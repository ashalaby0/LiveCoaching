{% extends 'base.html' %} {% load static %} {% block script %}
<script>
  let activateHour = (evt) => {
    evt.target.checked = true;
    console.log("ahmed");
  };

  let updateAvailHours = () => {
    let availHoursUl = document.querySelector("#avail-hours");
    let availHours = ["08:00", "10:00", "12:00", "14:00", "16:00"];
    if (availHours.length === 0) {
      availHoursUl.innerHTML =
        "<p class='text-center text-danger w-100'>Not Available...</p>";
    } else {
      availHoursUl.textContent = "";
      availHours.forEach((element, i) => {
        let newRadio = document.createElement("input");
        newRadio.setAttribute("type", "radio");
        newRadio.setAttribute("class", "btn-check");
        newRadio.setAttribute("name", "sessionHour");
        newRadio.setAttribute("id", `option${i}`);
        newRadio.setAttribute("value", element);
        availHoursUl.append(newRadio);

        let newRadioLabel = document.createElement("label");
        newRadioLabel.setAttribute("class", "btn btn-outline-primary");
        newRadioLabel.setAttribute("for", `option${i}`);
        newRadioLabel.textContent = element;

        // newRadioLabel.addEventListener("click", (event) => activateHour(event));
        newRadio.addEventListener("click", (event) => activateHour(event));
        availHoursUl.append(newRadioLabel);
      });
    }
  };
  document
    .querySelector("#sesion-date")
    .addEventListener("change", updateAvailHours);
</script>
{% endblock %} {% block content %}
<div class="d-flex flex-column container">
  <div class="mb-3">
    <div class="card text-primary">
      <div class="card-body d-flex justify-content-between align-items-center">
        <div class="d-flex justify-content-between">
          <div>
            <a href="#">
              <img
                src="{{ coach.photo.url }}"
                class="coach-img img-fluid"
                alt="coach-img"
              />
            </a>
          </div>
          <div>
            <h4>{{coach.user.username}}</h4>
            <p>{{coach.speciality}}</p>
            <div>
              <div>
                {% if coach.rating > 0%}
                <i class="bi bi-star-fill" style="color: gold"></i>
                {% endif %} {% if coach.rating > 1%}
                <i class="bi bi-star-fill" style="color: gold"></i>
                {% endif %} {% if coach.rating > 2%}
                <i class="bi bi-star-fill" style="color: gold"></i>
                {% endif %} {% if coach.rating > 3%}
                <i class="bi bi-star-fill" style="color: gold"></i>
                {% endif %} {% if coach.rating > 4%}
                <i class="bi bi-star-fill" style="color: gold"></i>
                {% endif %}
              </div>
            </div>
            <div>
              <i class="bi bi-geo-alt-fill"></i>
              <span>{{coach.location}}</span>
            </div>
          </div>
        </div>
        <div
          class="d-flex flex-column justify-content-between align-items-center"
          style="min-width: 25%"
        >
          <input type="date" class="form-control" id="sesion-date" />
          <div
            class="d-flex justify-content-between w-100 mt-2"
            style="min-width: 25%"
          >
            <div class="d-flex flex-column" style="min-width: 100%">
              <div class="form-check form-check-inline" id="avail-hours">
                <button class="btn btn-outline-primary">--:--</button>
                <button class="btn btn-outline-primary">--:--</button>
                <button class="btn btn-outline-primary">--:--</button>
                <button class="btn btn-outline-primary">--:--</button>
                <button class="btn btn-outline-primary">--:--</button>
              </div>
              <button
                type="submit"
                class="btn btn-danger flex-grow-1 mt-2"
                style="min-width: 100%"
              >
                BOOK
              </button>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>

  <div class="d-flex">
    <div class="d-flex flex-column w-100">
      <div class="card mb-3">
        <div class="card-body">
          <h2 class="text-primary">Private Sessions</h2>
          <div>
            {% if private_session_set %}
            <ul>
              {% for private_session in private_session_set %}
              <li>{{private_session}}</li>
              {% endfor %}
            </ul>
            {% else %}
            <h6>No Scheduled Private Sessions booked.</h6>
            {% endif %}
          </div>
        </div>
      </div>
      <div class="card mb-3">
        <div class="card-body">
          <h2 class="text-primary">Group Sessions</h2>
          <div>
            {% if group_session_set %}
            <ul>
              {% for group_session in group_session_set %}
              <li>{{group_session}}</li>
              {% endfor %}
            </ul>
            {% else %}
            <h6>No Scheduled Group Sessions</h6>
            {% endif %}
          </div>
        </div>
      </div>
    </div>
    {% endblock %}
  </div>
</div>
