{% extends 'base.html' %} {% load static %}

<!-- css/js section -->

{% block script %}
<script src="{% static 'home/js/booking.js' %}" defer></script>
{% endblock %}

<!-- main content -->
{% block content %}
<div class="d-flex flex-column container">
  <div class="mb-3">
    <div class="card text-primary">
      <div class="card-body d-flex justify-content-between align-items-center">
        <div class="d-flex justify-content-between">
          <div>
            <a href="#">
              <img
                src="{{ coach.photo.url }}"
                class="coach-img img-fluid"
                alt="coach-img"
              />
            </a>
          </div>
          <div>
            <h4>{{coach.user.username}}</h4>
            <p>{{coach.speciality}}</p>
            <div>
              <div>
                {% if coach.rating > 0%}
                <i class="bi bi-star-fill" style="color: gold"></i>
                {% endif %} {% if coach.rating > 1%}
                <i class="bi bi-star-fill" style="color: gold"></i>
                {% endif %} {% if coach.rating > 2%}
                <i class="bi bi-star-fill" style="color: gold"></i>
                {% endif %} {% if coach.rating > 3%}
                <i class="bi bi-star-fill" style="color: gold"></i>
                {% endif %} {% if coach.rating > 4%}
                <i class="bi bi-star-fill" style="color: gold"></i>
                {% endif %}
              </div>
            </div>
            <div>
              <i class="bi bi-geo-alt-fill"></i>
              <span>{{coach.location}}</span>
            </div>
          </div>
        </div>
        <div
          class="d-flex flex-column justify-content-between align-items-center"
          style="min-width: 25%"
        >
          <form action="{% url 'payment' %}" method="POST">
            {% csrf_token %}
            <input
              type="date"
              data-coach-id="{{coach.id}}"
              data-url="{% url 'get_coach_available_hours' coach.id %}"
              class="form-control"
              id="sesion-date"
              name="session_date"
            />
            <input name="coach_id" value="{{coach.id}}" hidden />
            <div
              class="d-flex justify-content-between w-100 mt-2"
              style="min-width: 25%"
            >
              <div class="d-flex flex-column" style="min-width: 100%">
                <div class="form-check form-check-inline" id="avail-hours">
                  <a href="#" class="btn btn-outline-primary">--:--</a>
                  <a href="#" class="btn btn-outline-primary">--:--</a>
                  <a href="#" class="btn btn-outline-primary">--:--</a>
                  <a href="#" class="btn btn-outline-primary">--:--</a>
                  <a href="#" class="btn btn-outline-primary">--:--</a>
                </div>
                <button
                  id="book_button"
                  type="submit"
                  class="btn btn-danger flex-grow-1 mt-2"
                  style="min-width: 100%"
                  disabled
                >
                  BOOK
                </button>
              </div>
            </div>
          </form>
          <form action="{% url 'schedule_zoom_meeting' %}" method="post">
            {% csrf_token %}
            <input name="meeting_date" value="2022-12-29T08:00:00Z" />
            <input name="meeting_topic" value="meeting_topic1" />
            <input name="meeting_agenda" value="meeting_agenda1" />
            <button class="btn btn-secondary" type="submit">book test</button>
          </form>
        </div>
      </div>
    </div>
  </div>

  <div class="d-flex">
    <div class="d-flex flex-column w-100">
      <div class="card mb-3">
        <div class="card-body">
          <h2 class="text-primary">Private Sessions</h2>
          <div>
            {% if private_session_set %}
            <ul>
              {% for private_session in private_session_set %}
              <li>{{private_session}}</li>
              {% endfor %}
            </ul>
            {% else %}
            <h6>No Scheduled Private Sessions booked.</h6>
            {% endif %}
          </div>
        </div>
      </div>
      <div class="card mb-3">
        <div class="card-body">
          <h2 class="text-primary">Group Sessions</h2>
          <div>
            {% if group_session_set %}
            <ul>
              {% for group_session in group_session_set %}
              <li>{{group_session}}</li>
              {% endfor %}
            </ul>
            {% else %}
            <h6>No Scheduled Group Sessions</h6>
            {% endif %}
          </div>
        </div>
      </div>
    </div>
    {% endblock %}
  </div>
</div>
